<html><head><title>Derived Classes and Resources</title></head>
<body>
<h1>Derived Classes and Resources</h1>
Designclasseswithdynamicallyallocatedresourcestomodelthecomponentsofaprogrammingsolution<br />
Definethecopyconstructorandassignmentoperatorforaderivedclasswitharesource<br />
Identifythecopyconstructorandcopyassignmentoperatordefaultsforaderivedclass<br />
"Ifyouusepointers,youhavetothinkaboutresourcemanagement"(Stroustrup,1997)<br />
<br />
Inheritancehierarchiesthataccessresourcesatmultiplelevelsrequireintervention.&nbsp;Managingrelationshipsbetweenthespecialmemberfunctionsinahierarchywithmultipleresourcesinvolvesensuringthattheappropriatecallsbetweenthesefunctionsaremade.&nbsp;Thedefinitionsofsomecopyconstructorsandcopyassignmentoperatorsinthehierarchymayrequireexplicitcodingoftheconnectionstotheirbaseclasscounterparts.<br />
<br />
Thischapterdescribeshowtodefinetheconstructorsandthecopyassignmentoperatorsinahierarchythataccessmultipleresourcesandhowtocalltheirbaseclasscounterparts.<br />
<br />
<br />
CONSTRUCTORSANDDESTRUCTOR<br />
<br />
Eachconstructorofaderivedclasscallsaconstructorofitsbaseclass.&nbsp;Bydefault,thatconstructoristheno-argumentconstructor.&nbsp;Tooverridethisdefault,weinsertanexplicitcalltothebaseclassconstructor.<br />
<br />
Destructorsinaninheritancehierarchydonotrequireanyintervention,sinceeachclassinthehierarchyhasbutonedestructorandeachdestructorcallsitssolebaseclasscounterpartautomatically.<br />
<br />
Example<br />
<br />
LetusupgradethedefinitionofourStudentclasstoaccommodateaclient-definednumberofgrades.&nbsp;Westorethegradesindynamicmemoryandstoretheaddressofthatmemoryinaresourceinstancepointer.<br />
<br />
TheupgradeddefinitionofourStudentclasscontainsaresourceinstancepointer:<br />
<br />
//Student.h<br />
<br />
#include&lt;iostream&gt;<br />
constintNC=30;<br />
<br />
classPerson{<br />
&nbsp;&nbsp;&nbsp;&nbsp;charname[NC+1];<br />
&nbsp;&nbsp;public:<br />
&nbsp;&nbsp;&nbsp;&nbsp;Person();<br />
&nbsp;&nbsp;&nbsp;&nbsp;Person(constchar*);<br />
&nbsp;&nbsp;&nbsp;&nbsp;voiddisplay(std::ostream&)const;<br />
};<br />
<br />
classStudent:publicPerson{<br />
&nbsp;&nbsp;&nbsp;&nbsp;intno;<br />
&nbsp;&nbsp;&nbsp;&nbsp;float*grade;<br />
&nbsp;&nbsp;&nbsp;&nbsp;intng;<br />
&nbsp;&nbsp;public:<br />
&nbsp;&nbsp;&nbsp;&nbsp;Student();<br />
&nbsp;&nbsp;&nbsp;&nbsp;Student(int);<br />
&nbsp;&nbsp;&nbsp;&nbsp;Student(constchar*,int,constfloat*,int);<br />
&nbsp;&nbsp;&nbsp;&nbsp;~Student();<br />
&nbsp;&nbsp;&nbsp;&nbsp;voiddisplay(std::ostream&)const;<br />
};</body>
</html>